// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model PlayerStats {
  id                 BigInt     @id @default(autoincrement())
  name               String
  winRatePercentage  Float
  gamesPlayed       Int
  gamesWon         Int
  gamesLost        Int
  gamesDrawn       Int
  kda               Float
  killsPerGame      Float
  deathsPerGame     Float
  assistsPerGame    Float
  damagePerRound    Float
  damagePerGame     Float
  headshotPercentage Float
  kills             Int
  deaths            Int
  assists           Int
  headshots         Int
  roundsWon         Int
  totalRounds       Int
  headshotsPerGame  Float
  roundsWonPerGame    Float
  totalRoundsPerGame Float
  roundsWinPercentage Float
  damage            Int
  knifeKills        Int   @default(0)
  knifeDeaths       Int   @default(0)

  weapons           WeaponStats[]
}

model SessionPlayerStats {
  id                 BigInt     @id @default(autoincrement())
  name               String
  winRatePercentage  Float
  gamesPlayed        Int
  gamesWon           Int
  gamesLost          Int
  gamesDrawn         Int
  kda               Float
  killsPerGame      Float
  deathsPerGame     Float
  assistsPerGame    Float
  damagePerRound    Float
  damagePerGame     Float
  headshotPercentage Float
  kills             Int
  deaths            Int
  assists           Int
  headshots         Int
  roundsWon         Int
  totalRounds       Int
  headshotsPerGame  Float
  roundsWonPerGame  Float
  totalRoundsPerGame Float
  roundsWinPercentage Float
  damage            Int
  knifeKills        Int   @default(0)
  knifeDeaths       Int   @default(0)
}

model WeaponStats {
  id          Int    @id @default(autoincrement())
  name        String
  totalKills       Int
  averageKillsPerGame Float
  playerId    BigInt
  player      PlayerStats @relation(fields: [playerId], references: [id])
}